# CHANGELOG

## 2026-01-28
- Standard seed now also runs office supplies seeding. (evidence: scripts/seed.js)
- Documented warning that office supplies seeding clears existing data. (evidence: docs/GETTING_STARTED.md)
- Installed Yarn 4.6.0 via Corepack and `yarn rw build` now passes. (evidence: docs/TECHNICAL_CHALLENGES.md)
- DbAuth audit: fixed signup username field + forgot-password email handling; verified DbAuth provider usage. (evidence: web/src/pages/SignupPage/SignupPage.jsx, web/src/pages/ForgotPasswordPage/ForgotPasswordPage.jsx, web/src/auth.js)
- Added feature inventory with evidence links to plan. (evidence: docs/PLAN.md)
- Validated Prisma migrations align with current schema; no drift noted. (evidence: api/db/schema.prisma, api/db/migrations)
- Reviewed role gating: Private routes and admin routes wired to DbAuth roles; services enforce auth/ADMIN where needed. (evidence: web/src/Routes.jsx; api/src/services/officeSupplies/officeSupplies.js; api/src/services/officeSupplyCategories/officeSupplyCategories.js; api/src/services/assetAssignments/assetAssignments.js; api/src/lib/auth.js)
- Verified office supplies workflows end-to-end: routes align with services and schema; admin gating enforced; supply requests approval flow checked. (evidence: web/src/Routes.jsx; api/src/services/officeSupplies/officeSupplies.js; api/src/services/officeSupplyCategories/officeSupplyCategories.js; api/src/services/supplyRequests/supplyRequests.js; api/db/schema.prisma)
- Verified asset tracker workflows end-to-end: routes/pages align with services and Prisma schema; asset assignments and requests enforce auth/ADMIN where needed. (evidence: web/src/pages/AssetTrackerPage/AssetTrackerPage.jsx; api/src/services/assets/assets.js; api/src/services/assetCategories/assetCategories.js; api/src/services/assetAssignments/assetAssignments.js; api/src/services/assetRequests/assetRequests.js; api/db/schema.prisma)
- Verified project tracker workflows end-to-end: project tracker page and tabs align with project/allocations/meetings/daily updates services and Prisma schema; build remains clean. (evidence: web/src/pages/ProjectTrackerPage/ProjectTrackerPage.jsx; web/src/components/ProjectTracker/ProjectTracker.jsx; api/src/services/projects/projects.js; api/src/services/projectAllocations/projectAllocations.js; api/src/services/projectMeetings/projectMeetings.js; api/src/services/dailyProjectUpdates/dailyProjectUpdates.js; api/db/schema.prisma)
- Fixed team allocation deletion error: deleteProjectAllocation now returns pre-delete data and resolvers use parent data, preventing null user GraphQL errors. (evidence: api/src/services/projectAllocations/projectAllocations.js)

## 2026-01-27
- Split mixed notes into `docs/PROJECT_NOTES.md` and `docs/REDWOOD_TUTORIAL_NOTES.md`; removed old `REDWOOD_NOTES.md`. (evidence: docs/PROJECT_NOTES.md, docs/REDWOOD_TUTORIAL_NOTES.md)
- Added plan in `docs/PLAN.md` and moved planning stub to `docs/Planning Guide.md`. (evidence: docs/PLAN.md, docs/Planning Guide.md)
- Created tracking docs `docs/PBI-Shekhar.md`, `docs/PBI-Sarath.md`, `docs/CHANGELOG.md`, `docs/EVIDENCE_INDEX.md`, and `docs/WORK_LOG.md`. (evidence: docs/PBI-Shekhar.md, docs/PBI-Sarath.md, docs/CHANGELOG.md, docs/EVIDENCE_INDEX.md, docs/WORK_LOG.md)
- Moved TODOs to `docs/TODO.md` and removed `docs/README.md` (empty). (evidence: docs/TODO.md)
- Removed Supabase/Azure artifacts and dependencies; archived legacy auth checklist. (evidence: package.json, api/package.json, web/package.json, docs/archive/check-auth-config.md)
- Cleaned Supabase/Azure references from config/docs and debug utilities; removed unused auth debug component. (evidence: redwood.toml, docs/PROJECT_NOTES.md, api/src/functions/debug.js, api/src/functions/auth-test.js)
- Added `docs/TECHNICAL_CHALLENGES.md`. (evidence: docs/TECHNICAL_CHALLENGES.md)
- Documented SMTP verification gap for password reset flow. (evidence: docs/TODO.md, docs/TECHNICAL_CHALLENGES.md)
- Verified review flow steps map to existing routes and dashboard components. (evidence: web/src/Routes.jsx, web/src/pages/DashboardPage/DashboardPage.jsx)
- Reworded review references to production/review terminology. (evidence: README.md, docs/PLAN.md, docs/Planning Guide.md, api/src/functions/graphql.js)
- Updated `docs/PLAN.md` to reflect DbAuth-only state and office supplies seed decision. (evidence: docs/PLAN.md)
- Added environment variable reference doc and linked it from README. (evidence: docs/ENVIRONMENT.md, README.md)
- `yarn rw build` failed due to Node 20.x requirement; recorded in technical challenges. (evidence: docs/TECHNICAL_CHALLENGES.md)
- Updated PBI evidence links for PT-005/PT-019. (evidence: docs/PBI-Shekhar.md)
- Split PBIs into owner-specific files. (evidence: docs/PBI-Shekhar.md, docs/PBI-Sarath.md)
- Upgraded Node version references to 25.x and updated RedwoodJS packages to 8.9.0. (evidence: .nvmrc, package.json, api/package.json, web/package.json, netlify.toml, docs/PROJECT_NOTES.md)
- Added getting started guidance for Node 25.x. (evidence: README.md)
- Installed dependencies after version updates (yarn.lock updated). (evidence: yarn.lock)
- `yarn rw dev` failed to determine a free API port; recorded in technical challenges. (evidence: docs/TECHNICAL_CHALLENGES.md)
- Resolved GraphQL codegen errors by renaming duplicate operation names in office supply components. (evidence: web/src/components/OfficeSupply/CategoryManager/CategoryManager.jsx, web/src/components/OfficeSupply/OfficeSupplyForm/OfficeSupplyForm.jsx, web/src/components/OfficeSupply/SupplyInventory/SupplyInventory.jsx, web/src/components/OfficeSupply/SupplyRequestManager/SupplyRequestManager.jsx)
- Replaced missing `checkAvailability` query with meeting room bookings query in booking form. (evidence: web/src/components/Booking/BookingForm/BookingForm.jsx)
- `yarn rw build` succeeded after configuring HOME to a writable cache and allowing Prisma download. (evidence: docs/TECHNICAL_CHALLENGES.md)
- Noted Redwood quick start Node 20.x vs project Node 25.x in docs. (evidence: README.md, docs/PROJECT_NOTES.md, docs/PLAN.md)
- Fixed `yarn rw check` blockers by aligning SDL and env configuration. (evidence: api/src/graphql/bookings.sdl.js, api/src/graphql/supplyRequests.sdl.js, .env.defaults, redwood.toml)
- `yarn rw check` now passes without errors or warnings. (evidence: docs/TECHNICAL_CHALLENGES.md)
- Added new hire setup guide and contributing guide; README now links to them. (evidence: docs/GETTING_STARTED.md, docs/CONTRIBUTING.md, README.md)
- Added `.home/` and `.prisma/` to gitignore. (evidence: .gitignore)
